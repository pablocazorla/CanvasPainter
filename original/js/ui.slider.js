var slider=function(a){return this.init(a)};slider.prototype={init:function(a){return this.setting=extend({parent:null,id:null,initVal:0,min:0,max:100,round:!0,title:"",titleOver:null,startDisable:!1,callback:function(){}},a),this.val=this.setting.initVal,this.segment=this.setting.max-this.setting.min,this.classSlider="slider",this.enabled=!0,this.render(),this},render:function(){this.slider=document.createElement("div"),this.output=document.createElement("span"),this.input=document.createElement("input"),this.btn=document.createElement("span"),this.line=document.createElement("span"),null!=this.setting.id&&(this.slider.id=this.setting.id),this.output.className="slider-out",this.btn.className="slider-btn",this.line.className="slider-line",this.input.type="text",this.setting.parent.appendChild(this.slider),this.slider.appendChild(this.output),this.slider.appendChild(this.input),this.slider.appendChild(this.line),this.line.appendChild(this.btn),""!=this.setting.title&&(this.title=document.createElement("div"),this.title.className="slider-title",this.title.innerHTML=this.setting.title,this.slider.appendChild(this.title),this.classSlider+=" with-title"),this.slider.className=this.classSlider,null!=this.setting.titleOver&&(this.slider.title=this.setting.titleOver),this.setting.startDisable&&this.toggleEnabled(!1),this.update().setEvents()},toggleEnabled:function(a){return a&&!this.enabled&&(this.slider.className=this.classSlider,this.enabled=!0),!a&&this.enabled&&(this.slider.className=this.classSlider+" disable",this.enabled=!1),this},update:function(a){return"undefined"!=typeof a&&(this.val=a),this.updateOutput().updateBtn(),this},updateOutput:function(){var a=this.val;return this.setting.round&&(a=Math.round(this.val)),this.output.innerHTML=a,this},updateBtn:function(){return this.left=100*(this.val-this.setting.min)/this.segment,this.widthPX=this.line.offsetWidth,this.btn.style.left=this.left+"%",this},getValue:function(){var a=this.val;return this.setting.round&&(a=Math.round(this.val)),a},setEvents:function(){var b,c,a=!1,d=this,e=function(e){d.enabled&&(b=e.pageX,c=Math.round(d.widthPX*d.left/100),document.getElementById("canvasShopBack").className="slide-dragging",a=!0,d.btn.className="slider-btn sliding")},f=function(e){a&&(d.left=100*(c+(e.pageX-b))/d.widthPX,d.left<0&&(d.left=0),d.left>100&&(d.left=100),d.btn.style.left=d.left+"%",d.val=d.left*d.segment/100+d.setting.min,d.updateOutput(),d.setting.callback())},g=function(){a&&(a=!1,d.btn.className="slider-btn",document.getElementById("canvasShopBack").className="")};this.btn.addEventListener("mousedown",function(a){e(a)},!1),this.line.addEventListener("mousedown",function(a){e(a)},!1),document.body.addEventListener("mousemove",function(a){f(a)},!1),document.body.addEventListener("mouseup",function(){g()},!1),this.output.addEventListener("click",function(){d.input.style.display="block",d.input.value=d.getValue(),d.input.focus()},!1),this.input.addEventListener("blur",function(){var a=d.input.value;isNaN(a)||(a<d.setting.min&&(a=d.setting.min),a>d.setting.max&&(a=d.setting.max),d.update(a),d.setting.callback()),d.input.style.display="none"},!1)}};